# life_cycle.yaml
apiVersion: v1
kind: Pod
metadata:
  name: my-pod
spec:
  volumes:
    - name: data
      gcePersistentDisk:
        pdName: my-disk
        fsType: ext4
  containers:
  - image: alpine
    name: alpine
    volumeMounts:            
      - mountPath: "/data" 
        name: "data"  
    lifecycle:
      postStart:
        exec:
          command: 
          - /bin/sh
          - -c
          - echo "before killing container" > /data/log.txt
      preStop:
        exec:
          command: 
          - /bin/sh
          - -c
          - echo "before killing container" > /data/log.txt
  restartPolicy: Never
